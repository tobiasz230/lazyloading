{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./index.js","webpack:///./utils/constants.js","webpack:///./utils/helpers.js"],"names":["removeImages","selector","images","document","querySelectorAll","forEach","item","remove","lazyLoad","photoContainer","offsetTop","window","innerHeight","pageYOffset","clientHeight","imageSrc","innerWidth","RWD_BREAKPOINTS","xs","getAttribute","checkImage","querySelector","newImage","Image","src","classList","add","onload","append","fetchData","data","container","getElementById","error","results","result","thumbnails","createElement","setAttribute","onScrollEnd","onResizeEnd","delay","callback","isScrolling","addEventListener","clearTimeout","setTimeout","isResizing","fetch","method","mode","headers","body","JSON","stringify","id","jsonrpc","params","ua","catid","limit","offset","clientId","then","res","json","catch","err"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./index.js\");\n","'use strict';\r\nimport {onScrollEnd, onResizeEnd, fetchData} from './utils/helpers';\r\nimport {RWD_BREAKPOINTS} from './utils/constants';\r\n\r\nfunction removeImages (selector) {\r\n    const images = document.querySelectorAll(selector);\r\n    images.forEach(item => {\r\n        item.remove();\r\n    });\r\n}\r\n\r\nfunction lazyLoad (selector) {\r\n    const photoContainer = document.querySelectorAll(selector);\r\n\r\n    photoContainer.forEach(item => {\r\n        if (item.offsetTop < window.innerHeight + window.pageYOffset && item.offsetTop > window.pageYOffset - item.clientHeight) {\r\n            const imageSrc = window.innerWidth > RWD_BREAKPOINTS.xs ? item.getAttribute('data-src') : item.getAttribute('data-src-small');\r\n            const checkImage = item.querySelector('.fp-image');\r\n            if (!checkImage) {\r\n                const newImage = new Image();\r\n                newImage.src = imageSrc;\r\n                newImage.classList.add('photo_img', 'fp-image');\r\n                newImage.onload = () => {\r\n                    item.append(newImage);\r\n                }\r\n            } else if (imageSrc !== checkImage.src) {\r\n                removeImages('.fp-image');\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\nfetchData(data => {\r\n    const container = document.getElementById('root');\r\n    if (data.error) {\r\n        container.append('Ups... Coś poszło nie tak!');\r\n    }\r\n    const {result: {results}} = data;\r\n    results.forEach((item) => {\r\n        const {thumbnails} = item;\r\n        const photoContainer = document.createElement('div');\r\n        photoContainer.classList.add('photo', 'fp-lazy-image');\r\n        photoContainer.setAttribute('data-src', thumbnails[3].src);\r\n        photoContainer.setAttribute('data-src-small', thumbnails[0].src);\r\n        container.append(photoContainer);\r\n    });\r\n    lazyLoad('.fp-lazy-image');\r\n});\r\n\r\n//events\r\nonScrollEnd(250, () => lazyLoad('.fp-lazy-image'));\r\nonResizeEnd(10, () => lazyLoad('.fp-lazy-image'))  ","export const RWD_BREAKPOINTS = {\r\n    xs: 800\r\n};","// function ajax(method, url) {\r\n//     return new Promise(function(resolve, reject) {\r\n//         const xhr = new XMLHttpRequest();\r\n//         xhr.open(method, url);\r\n        \r\n//         xhr.addEventListener('load', function() {\r\n//             if (this.status === 200) {\r\n//                 resolve(xhr.response);\r\n//             } else {\r\n//                 reject({\r\n//                     status: this.status,\r\n//                     statusText: xhr.statusText\r\n//                 });\r\n//             }\r\n//         });\r\n//         xhr.addEventListener('error', function() {\r\n//             reject({\r\n//                 status: this.status,\r\n//                 statusText: xhr.statusText\r\n//             });\r\n//         });\r\n        \r\n\r\n//         xhr.send();\r\n//     });\r\n// }\r\n\r\n// export function getData (method, url, callback) {\r\n//     ajax(method, url)\r\n//     .then(function(response) {\r\n//         callback(response);\r\n//     }).catch(function(err) {\r\n//         console.error('[ERROR]', err);\r\n//         err.error = true;\r\n//         callback(err);\r\n//     });\r\n\r\n// };\r\n\r\nexport function onScrollEnd (delay, callback) {\r\n    let isScrolling;\r\n\r\n    //events\r\n    window.addEventListener('scroll', () => {\r\n        window.clearTimeout( isScrolling );\r\n        isScrolling = setTimeout(() => {\r\n            callback();\r\n        }, delay);\r\n    }, false);\r\n};\r\n\r\nexport function onResizeEnd (delay, callback) {\r\n    let isResizing = null;\r\n    window.addEventListener('resize', () => {\r\n        clearTimeout(isResizing);\r\n        isResizing = setTimeout(() => {\r\n            callback();\r\n        }, delay);\r\n    });\r\n}\r\n\r\nexport function fetchData(callback) {\r\n    fetch('https://b2c-www.redefine.pl/rpc/navigation/', {\r\n        method : 'post',\r\n        mode:    'cors',\r\n        headers: {\r\n        'Content-Type': 'text/plain',\r\n        'Referer': 'https://www.ipla.tv/wideo/serial/Pierwsza-milosc/828?seasonId=829',\r\n        'Origin': 'https://www.ipla.tv',\r\n        'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',\r\n        'Accept': 'application/json, text/plain, */*',\r\n        },\r\n        body: JSON.stringify({\r\n            id: 1,\r\n            jsonrpc: \"2.0\",\r\n            method: \"getCategoryContentWithFlatNavigation\",\r\n            params: {\r\n                ua: \"www_iplatv/12345 (Mozilla/5.0 Macintosh; Intel Mac OS X 10_10_5 AppleWebKit/537.36 KHTML, like Gecko Chrome/69.0.3497.100 Safari/537.36)\",\r\n                catid: 829,\r\n                limit: 300,\r\n                offset: 0,\r\n                clientId: \"c921d668-1fdc-4e71-b15ee8338d2c9bb2\"\r\n            }\r\n        })\r\n    })\r\n    .then((res) => res.json())\r\n    .then(data => callback(data))\r\n    .catch(err => {\r\n        callback(err);\r\n    });\r\n}\r\n"],"sourceRoot":""}